@*
    Daniel Escobar Giraldo | C02748
    Views/Peliculas/Index.cshtml
*@

@model List<Laboratorio5.Models.PeliculaModel>;
@{
    ViewData["Title"] = "Películas";
}
<link rel="stylesheet" href="_Index.cshtml.css" asp-append-version="true" />

<h1>@ViewBag.MainTitle</h1>

<div>
    <a href="@Url.Action("CrearPelicula", "Peliculas")" class="btn btn-success">Crear Pelicula</a>
    @if (ViewBag.MensajeError != null)
    {
        <div class="row d-flex justify-content-center">
            <div class="col-sm-auto text-center">
                <p class="alert alert-success p-2">@Convert.ToString(ViewBag.MensajeError)</p>
            </div>
        </div>
    }
    <table class="table">
        <thread>
            <tr>
                <th>Id</th>
                <th>Nombre</th>
                <th>Año</th>
                <th>Editar</th>
                <th>Borrar</th>
            </tr>
        </thread>
        <tbody>
            @foreach (var item in Model){
                <tr>
                    <td>@item.ID</td>
                    <td>@item.Nombre</td>
                    <td>@item.Año</td>
                    <td>
                        @Html.ActionLink("Editar", "EditarPelicula", 
                            new {identificador = item.ID},
                            new {@class = "btn alert-info",
                                @onclick = "return confirm('¿Desea editar esta pelicula?')"})
                    </td>
                    <td>
                        @Html.ActionLink("Borrar", "BorrarPelicula",
                            new {identificador = item.ID},
                            new {@class = "btn alert-danger",
                            @onclick = "return confirm('¿Desea borrar esta pelicula?')"})
                    </td>

                </tr>
            }
        </tbody>
    </table>
</div>